<ion-header [translucent]="true">
 <ion-toolbar>
  <ion-title>Sign Up</ion-title>
 </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
 <div class="signup-container">
  <!-- Conditional rendering for role-based content -->
  <ng-container *ngIf="role_id === 0">
   <ion-grid>
    <ion-row class="ion-text-center">
     <ion-col size="12">
      <p class="text-white margin-0">Create an Account</p>
     </ion-col>
    </ion-row>

    <!-- User Account Role -->
    <ion-card (click)="selectRole(3)" class="ion-padding">
     <ion-row class="ion-align-items-center">
      <ion-col size="4" class="ion-text-center">
       <img class="icon-img" src="assets/images/user.png" alt="User Image">
      </ion-col>
      <ion-col size="8">
       <p class="ion-no-margin">Create Account for User</p>
      </ion-col>
     </ion-row>
    </ion-card>

    <!-- Restaurant Account Role -->
    <ion-card (click)="selectRole(2)" class="ion-padding">
     <ion-row class="ion-align-items-center">
      <ion-col size="4" class="ion-text-center">
       <img class="icon-img" src="assets/images/restaurant.png" alt="Restaurant Image">
      </ion-col>
      <ion-col size="8">
       <p class="ion-no-margin">Create Account for Restaurant</p>
      </ion-col>
     </ion-row>
    </ion-card>

    <!-- Back to Login -->
    <ion-row class="ion-text-center">
     <ion-col size="12">
      <p class="text-white">
       Back to Login?
       <a href="/login">Login</a>
      </p>
     </ion-col>
    </ion-row>
   </ion-grid>
  </ng-container>

  <!-- Content for users who already have a role -->
  <ng-container *ngIf="role_id !== 0">
   <ion-row class="ion-text-center">
    <ion-col size="12">
     <p class="text-white mb-0"> {{role_id === 2 ? 'Create Account for Restaurant' : 'Create Account for User'}}
     </p>
    </ion-col>
   </ion-row>

   <ion-card class="ion-padding">
    <ion-card-header>
     <ion-icon name="arrow-back-circle-outline" size="large" class="ion-margin-end"
      (click)="selectRole(0)">Back</ion-icon>
    </ion-card-header>
    <ion-card-content>
     <ion-row class="ion-align-items-center">
      <ion-col size="10">
       <ion-input type="text" placeholder="User Name" [(ngModel)]="username"></ion-input>
      </ion-col>
      <ion-col size="2" class="d-flex ion-justify-content-center ion-align-items-center">
       <ion-icon name="person" class="text-white"></ion-icon>
      </ion-col>
     </ion-row>

     <ion-row class="ion-align-items-center">
      <ion-col size="10">
       <ion-input type="text" placeholder="Login Name" [(ngModel)]="loginname"></ion-input>
      </ion-col>
      <ion-col size="2" class="d-flex ion-justify-content-center ion-align-items-center">
       <ion-icon name="person" class="text-white"></ion-icon>
      </ion-col>
     </ion-row>

     <ion-row>
      <ion-col size="12">
       <ion-input type="password" placeholder="Password" [(ngModel)]="password">
        <ion-input-password-toggle slot="end" color="light"></ion-input-password-toggle>
       </ion-input>
      </ion-col>
     </ion-row>

     <ion-row>
      <ion-col size="12" class="submit-btn-container">
       <ion-button [disabled]="isLoading" size="small" expand="block" color="secondary" (click)="submit()">
        <ion-icon slot="start" name="log-in"></ion-icon> Submit
        <ion-spinner slot="end" *ngIf="isLoading"></ion-spinner>
       </ion-button>
      </ion-col>
     </ion-row>

     <ion-row class="ion-text-center">
      <ion-col size="12">
       <p class="text-white">Already have an account? <a href="/login">Login</a></p>
      </ion-col>
     </ion-row>
    </ion-card-content>
   </ion-card>
  </ng-container>
 </div>
</ion-content>